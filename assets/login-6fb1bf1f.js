import"./base-e795ffa2.js";import{E,a as F}from"./el-form-item-e067dae4.js";import{E as V}from"./el-button-98ea7534.js";/* empty css                 */import{a as x}from"./api-cb8621bd.js";import{d as y,r as I,t as b,a as k,c as H,b as r,w as n,u as s,o as R,e as B,f as C}from"./index-adab3419.js";import{l as N,E as q}from"./type-1b7e764a.js";import{E as D}from"./index-30f12ee2.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-34384c93.js";import"./isObject-ee0b6feb.js";import"./typescript-f7e39ad9.js";const U=()=>{let a="",o=new Date().getHours();return o>=8&&o<=12?a="HI,上午好！":o>12&&o<=18?a="HI,下午好！":o>18&&o<=24&&(a="HI,晚上好！"),a},$={class:"demo-login"},h=y({__name:"login",setup(a){const o=(m,e,t)=>{e?t():t("请输入密码")},p=I(new N),{ruleForm:l}=b(p);let d=k();const f=C();let _=U();const c=m=>{m&&m.validate(e=>{if(e)x(p.ruleForm).then(t=>{localStorage.setItem("token",t.data.token),f.push("/"),D({title:"登录成功",message:`${_}`,type:"success"})}).catch(t=>t);else return!1})},g={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"用户名3到5位数",trigger:"blur"}],password:[{validator:o,trigger:"blur",required:!0}]};return(m,e)=>{const t=q,i=F,v=V,w=E;return R(),H("div",$,[r(w,{ref_key:"ruleFormRef",ref:d,model:s(l),rules:g,class:"demo-ruleForm"},{default:n(()=>[r(i,{prop:"username"},{default:n(()=>[r(t,{modelValue:s(l).username,"onUpdate:modelValue":e[0]||(e[0]=u=>s(l).username=u),autocomplete:"off"},null,8,["modelValue"])]),_:1}),r(i,{prop:"password"},{default:n(()=>[r(t,{modelValue:s(l).password,"onUpdate:modelValue":e[1]||(e[1]=u=>s(l).password=u),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),r(i,null,{default:n(()=>[r(v,{class:"btn",type:"primary",onClick:e[2]||(e[2]=u=>c(s(d)))},{default:n(()=>[B("登录")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const W=T(h,[["__scopeId","data-v-27000ed6"]]);export{W as default};
